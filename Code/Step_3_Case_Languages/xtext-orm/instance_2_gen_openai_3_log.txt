Response after Instance 1: Stored for future reference.

## Differences: Grammar 1 → Grammar 2

### 1) Top-level model structure
- **Grammar 1:** `PersistenceModel` contains only entities:  
  `PersistenceModel: (entities+=Entity)+;`
- **Grammar 2:** Adds an обязательный **Configuration block** before entities:  
  ```
  PersistenceModel:
    'Configuration' '[' configs+=Configuration+ ']'
    (entities+=Entity)+
  ;
  ```
  So every file must now start with `Configuration [ ... ]`.

### 2) Field options syntax moved to a wrapper rule
- **Grammar 1:** Options were defined **inside each field rule** (PropertyField/EntityField/BackrefField each had optional `[...]`).
- **Grammar 2:** Options are attached at the **FieldDeclaration** level:
  ```
  Entity:
    ... fieldDeclarations+=FieldDeclaration+ ...
  ;

  FieldDeclaration:
    field=Field ('[' options+=TypeOption (',' options+=TypeOption)? ']')?
  ;
  ```
  And the individual field rules no longer contain options.
- Effect: all field types can still have options, but options are syntactically **uniform** and no longer duplicated across field variants.

### 3) Entity reference field changed: directionality added
- **Grammar 1 EntityField:**
  ```
  'object' '[' cardinality=Cardinality ']' name=ID ':' entityReference=[Entity] ...
  ```
- **Grammar 2 EntityField:**
  ```
  'object' '[' cardinality=Cardinality '|' (bidirectional?='<->' | unidirectional?='->') ']'
    name=ID ':' entityReference=[Entity]
  ;
  ```
- Effect: each object relation now explicitly declares **uni-/bi-directionality** using `| ->` or `| <->`.

### 4) BackrefField options removed (but still possible via FieldDeclaration)
- **Grammar 1 BackrefField** had optional options directly.
- **Grammar 2 BackrefField** has no inline options:
  ```
  'backref' '[' backref=[EntityField|FQN] ']' name=ID
  ;
  ```
- But because `BackrefField` is inside `FieldDeclaration`, it **can still receive options** like:
  `backref [X.y] z [not_null]`.

### 5) Configurations added (multi-target codegen intent)
New nonterminal:
```
Configuration: JavaConfiuration | PythonConfiguration;
```
with:
- **Java configuration**:
  - `genpath` (Path)
  - `package` (FQN)
  - `ORM` (currently only `Hibernate`)
- **Python configuration**:
  - `genpath` (Path)
  - `module_name` (FQN)
  - `ORM` (currently only `SQLAlchemy`)

### 6) New `Path` rule
- Grammar 2 adds:
  `Path: ID ('/' ID)*;`
- Used for `genpath` in both Java and Python configurations.

### 7) Renames / model shape changes
- In `Entity`:
  - Grammar 1: `fields+=Field+`
  - Grammar 2: `fieldDeclarations+=FieldDeclaration+`
- Semantically similar (still “a list of fields”), but Grammar 2 interposes a wrapper node to host options.

### 8) What stayed the same
- Entity syntax: `entity Name { ... }`
- `Type`, `String(count)`, `Integer`
- `TypeOption` values: `unique`, `not_null`
- `Cardinality` enum values unchanged
- FQN structure unchanged (`ID ('.' ID)*`)

If you want, I can also show how **Instance 1** would need to be rewritten to conform to **Grammar 2** (mainly: add `Configuration [...]` and add `| ->` or `| <->` to every `object [...]` field).

Instance 2 has been saved to 'Code\Step_3_Case_Languages\xtext-orm\instance_2_gen_openai_3.txt'.